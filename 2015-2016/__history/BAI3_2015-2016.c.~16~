#INCLUDE<16F887.H>
#FUSES HS
#USE DELAY(CLOCK=20MHz)

#USE RS232(BAUD=4800,BITS=8,STOP=1,PARITY=N, XMIT=PIN_C6,RCV=PIN_C7)

#DEFINE LED PIN_E0

CONST UNSIGNED INT8 MA7DOAN[] = {0XC0, 0XF9, 0XA4, 0XB0, 0X99, 0X92, 0X82, 0XF8, 0X80, 0X90};
UNSIGNED CHAR DATA=0;

#INT_RDA
VOID NGAT_UART()
{
   DATA=GETC(); //NHAN VE MA ASCII
   CLEAR_INTERRUPT(INT_RDA); 
}
VOID MAIN()
{
   SET_TRIS_E(0X00);  
   SET_TRIS_D(0X00);
   SET_TRIS_C(0X80);
   
   //CHO PHEP NGAT
   ENABLE_INTERRUPTS(GLOBAL);
   ENABLE_INTERRUPTS(INT_RDA);
   DATA=0;
   WHILE(TRUE)
   {
      DATA=DATA-0X30; //CHUYEN TU ASCII SANG SO
      OUTPUT_D(MA7DOAN[DATA]);
      /*IF(DATA==0) OUTPUT_LOW(LED);
      ELSE
      {
         OUTPUT_HIGH(LED);
         DELAY_MS(DATA*1000);
         OUTPUT_LOW(LED);
         DELAY_MS(DATA*1000);
      }*/
   }
}
