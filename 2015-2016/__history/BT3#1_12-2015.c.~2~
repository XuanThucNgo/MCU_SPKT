#INCLUDE<16F887.H>
#FUSES HS
#USE DELAY(CLOCK=20M)

#DEFINE SP PIN_B0

#USE RS232 (BAUD=9600,XMIT=PIN_C6,RCV=PIN_C7)

UNSIGNED CHAR PRODUCT=0;

VOID MAIN()
{
   SET_TRIS_D(0X0F);
   SET_TRIS_C(0XFF);
   OUTPUT_LOW(STATUS);
   
   WHILE(TRUE)
   {
      IF(KBHIT()==1)
      {
         PRODUCT=GETC();      
      }
      IF(PRODUCT==0)   OUTPUT_HIGH(STATUS);
      IF(RXDATA=='2')   OUTPUT_LOW(STATUS);
      IF(INPUT(RUN)==0)   PUTC('R');
      IF(INPUT(STOP)==0)   PUTC('S');
   }
}
